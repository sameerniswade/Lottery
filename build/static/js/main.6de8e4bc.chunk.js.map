{"version":3,"sources":["web3.js","lottery.js","App.js","index.js"],"names":["web3","Web3","window","currentProvider","addEventListener","a","ethereum","enable","console","log","lottery","eth","Contract","constant","inputs","name","outputs","type","payable","stateMutability","App","state","manager","players","balance","value","message","onSubmit","event","preventDefault","getAccounts","accounts","setState","methods","enter","send","from","utils","toWei","onClick","pickWinner","call","getPlayers","getBalance","options","address","this","className","length","fromWei","placeholder","onChange","target","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yuBAEMA,EAAO,IAAIC,IAAKC,OAAOF,KAAKG,iBAElCD,OAAOE,iBAAiB,OAAxB,sBAAgC,sBAAAC,EAAA,0DAE1BH,OAAOI,SAFmB,wBAG5BJ,OAAOF,KAAO,IAAIC,IAAKC,OAAOI,UAHF,kBAMpBJ,OAAOI,SAASC,SANI,qFAYrBL,OAAOF,KACdE,OAAOF,KAAO,IAAIC,IAAKD,EAAKG,iBAI5BK,QAAQC,IACN,uEAlB0B,0DAuBjBT,QCwCAU,EADC,IAAIV,EAAKW,IAAIC,SA/DjB,CACV,CACEC,UAAU,EACVC,OAAQ,GACRC,KAAM,UACNC,QAAS,CAAC,CAAED,KAAM,GAAIE,KAAM,YAC5BC,SAAS,EACTC,gBAAiB,OACjBF,KAAM,YAER,CACEJ,UAAU,EACVC,OAAQ,GACRC,KAAM,aACNC,QAAS,GACTE,SAAS,EACTC,gBAAiB,aACjBF,KAAM,YAER,CACEJ,UAAU,EACVC,OAAQ,GACRC,KAAM,SACNC,QAAS,CAAC,CAAED,KAAM,GAAIE,KAAM,YAC5BC,SAAS,EACTC,gBAAiB,OACjBF,KAAM,YAER,CACEJ,UAAU,EACVC,OAAQ,GACRC,KAAM,aACNC,QAAS,CAAC,CAAED,KAAM,GAAIE,KAAM,cAC5BC,SAAS,EACTC,gBAAiB,OACjBF,KAAM,YAER,CACEJ,UAAU,EACVC,OAAQ,GACRC,KAAM,QACNC,QAAS,GACTE,SAAS,EACTC,gBAAiB,UACjBF,KAAM,YAER,CACEJ,UAAU,EACVC,OAAQ,CAAC,CAAEC,KAAM,GAAIE,KAAM,YAC3BF,KAAM,UACNC,QAAS,CAAC,CAAED,KAAM,GAAIE,KAAM,YAC5BC,SAAS,EACTC,gBAAiB,OACjBF,KAAM,YAER,CACEH,OAAQ,GACRI,SAAS,EACTC,gBAAiB,aACjBF,KAAM,gBA5DM,8CCoGDG,E,4MAhGbC,MAAQ,CACNC,QAAS,GACTC,QAAS,GACTC,QAAS,GACTC,MAAO,GACPC,QAAS,I,EAUXC,S,uCAAW,WAAOC,GAAP,eAAAvB,EAAA,6DACTuB,EAAMC,iBADG,SAEc7B,EAAKW,IAAImB,cAFvB,cAEHC,EAFG,OAIT,EAAKC,SAAS,CAAEN,QAAS,sCAJhB,SAMHhB,EAAQuB,QAAQC,QAAQC,KAAK,CACjCC,KAAML,EAAS,GACfN,MAAOzB,EAAKqC,MAAMC,MAAM,EAAKjB,MAAMI,MAAO,WARnC,OAWT,EAAKO,SAAS,CAAEN,QAAS,2BAXhB,2C,wDAcXa,Q,sBAAU,4BAAAlC,EAAA,sEACeL,EAAKW,IAAImB,cADxB,cACFC,EADE,OAER,EAAKC,SAAS,CAAEN,QAAS,sCAFjB,SAGFhB,EAAQuB,QAAQO,aAAaL,KAAK,CACtCC,KAAML,EAAS,KAJT,OAOR,EAAKC,SAAS,CAAEN,QAAS,4BAPjB,2C,sMApBchB,EAAQuB,QAAQX,UAAUmB,O,cAA1CnB,E,gBACgBZ,EAAQuB,QAAQS,aAAaD,O,cAA7ClB,E,gBACgBvB,EAAKW,IAAIgC,WAAWjC,EAAQkC,QAAQC,S,OAApDrB,E,OACNsB,KAAKd,SAAS,CAAEV,UAASC,UAASC,Y,sIA2B1B,IAAD,OACP,OACE,qBAAKuB,UAAU,UAAf,SACE,sBAAKA,UAAU,OAAf,UACE,oBAAIA,UAAU,SAAd,qBACA,mBAAGA,UAAU,eAAb,wCACA,mBAAGA,UAAU,UAAb,SAAwBD,KAAKzB,MAAMC,UACnC,sBAAKyB,UAAU,eAAf,UACE,sBAAKA,UAAU,SAAf,UACE,mBAAGA,UAAU,cAAb,yBACA,mBAAGA,UAAU,eAAb,SAA6BD,KAAKzB,MAAME,QAAQyB,YAElD,sBAAKD,UAAU,QAAf,UACE,mBAAGA,UAAU,aAAb,4BACA,oBAAGA,UAAU,cAAb,UACG/C,EAAKqC,MAAMY,QAAQH,KAAKzB,MAAMG,QAAS,SAD1C,kBAMJ,uBAEA,uBAAMG,SAAUmB,KAAKnB,SAArB,UACE,oBAAIoB,UAAU,cAAd,mCACA,gCACE,uBAAOA,UAAU,YAAjB,sCACA,uBACE9B,KAAK,SACLiC,YAAY,sBACZH,UAAU,aACVtB,MAAOqB,KAAKzB,MAAMI,MAClB0B,SAAU,SAACvB,GAAD,OACR,EAAKI,SAAS,CAAEP,MAAOG,EAAMwB,OAAO3B,cAI1C,wBAAQsB,UAAU,cAAlB,sBAGF,uBAEA,oBAAIA,UAAU,MAAd,SAAqBD,KAAKzB,MAAMK,UAEhC,uBACA,sBAAKqB,UAAU,OAAf,UACE,oBAAIA,UAAU,YAAd,mCACA,wBAAQA,UAAU,cAAcR,QAASO,KAAKP,QAA9C,+BAIF,gC,GA1FQc,aCAlBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.6de8e4bc.chunk.js","sourcesContent":["import Web3 from \"web3\";\n\nconst web3 = new Web3(window.web3.currentProvider);\n\nwindow.addEventListener(\"load\", async () => {\n  // Modern dapp browsers...\n  if (window.ethereum) {\n    window.web3 = new Web3(window.ethereum);\n    try {\n      // Request account access if needed\n      await window.ethereum.enable();\n    } catch (error) {\n      // User denied account access...\n    }\n  }\n  // Legacy dapp browsers...\n  else if (window.web3) {\n    window.web3 = new Web3(web3.currentProvider);\n  }\n  // Non-dapp browsers...\n  else {\n    console.log(\n      \"Non-Ethereum browser detected. You should consider trying MetaMask!\"\n    );\n  }\n});\n\nexport default web3;\n","import web3 from \"./web3\";\n\nconst address = \"0x84aaB46B8Db37F1f21480A91cdaDbd76A8580C6C\";\nconst abi = [\n  {\n    constant: true,\n    inputs: [],\n    name: \"manager\",\n    outputs: [{ name: \"\", type: \"address\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [],\n    name: \"pickWinner\",\n    outputs: [],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"random\",\n    outputs: [{ name: \"\", type: \"uint256\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"getPlayers\",\n    outputs: [{ name: \"\", type: \"address[]\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [],\n    name: \"enter\",\n    outputs: [],\n    payable: true,\n    stateMutability: \"payable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [{ name: \"\", type: \"uint256\" }],\n    name: \"players\",\n    outputs: [{ name: \"\", type: \"address\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"constructor\",\n  },\n];\n\nconst lottery = new web3.eth.Contract(abi, address);\nexport default lottery;\n","import \"./App.css\";\nimport web3 from \"./web3\";\nimport { Component } from \"react\";\nimport lottery from \"./lottery\";\n\nclass App extends Component {\n  state = {\n    manager: \"\",\n    players: [],\n    balance: \"\",\n    value: \"\",\n    message: \"\",\n  };\n\n  async componentDidMount() {\n    const manager = await lottery.methods.manager().call();\n    const players = await lottery.methods.getPlayers().call();\n    const balance = await web3.eth.getBalance(lottery.options.address);\n    this.setState({ manager, players, balance });\n  }\n\n  onSubmit = async (event) => {\n    event.preventDefault();\n    const accounts = await web3.eth.getAccounts();\n\n    this.setState({ message: \"waiting on transaction success...\" });\n\n    await lottery.methods.enter().send({\n      from: accounts[0],\n      value: web3.utils.toWei(this.state.value, \"ether\"),\n    });\n\n    this.setState({ message: \"you have been entered!\" });\n  };\n\n  onClick = async () => {\n    const accounts = await web3.eth.getAccounts();\n    this.setState({ message: \"waiting on transaction success...\" });\n    await lottery.methods.pickWinner().send({\n      from: accounts[0],\n    });\n\n    this.setState({ message: \"winner has been picked!\" });\n  };\n\n  render() {\n    return (\n      <div className=\"lottery\">\n        <div className=\"card\">\n          <h2 className=\"header\">Lottery</h2>\n          <p className=\"manager-text\">This contract is manage by</p>\n          <p className=\"manager\">{this.state.manager}</p>\n          <div className=\"people-money\">\n            <div className=\"people\">\n              <p className=\"people-text\">Participant</p>\n              <p className=\"people-value\">{this.state.players.length}</p>\n            </div>\n            <div className=\"money\">\n              <p className=\"money-text\">Winning Amount</p>\n              <p className=\"money-value\">\n                {web3.utils.fromWei(this.state.balance, \"ether\")} ether\n              </p>\n            </div>\n          </div>\n\n          <hr />\n\n          <form onSubmit={this.onSubmit}>\n            <h4 className=\"form-header\">Want a try your luck?</h4>\n            <div>\n              <label className=\"form-text\">Amount of ether to enter</label>\n              <input\n                type=\"number\"\n                placeholder=\"minimum 0.01 ether!\"\n                className=\"form-input\"\n                value={this.state.value}\n                onChange={(event) =>\n                  this.setState({ value: event.target.value })\n                }\n              />\n            </div>\n            <button className=\"form-button\">Enter</button>\n          </form>\n\n          <hr />\n\n          <h1 className=\"msg\">{this.state.message}</h1>\n\n          <hr />\n          <div className=\"pick\">\n            <h4 className=\"pick-text\">Ready to pick winner?</h4>\n            <button className=\"pick-button\" onClick={this.onClick}>\n              pick a winner!\n            </button>\n          </div>\n          <hr />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}